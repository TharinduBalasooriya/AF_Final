var helpers = require("../../../node_modules/@parcel/transformer-react-refresh-wrap/lib/helpers/helpers.js");
var prevRefreshReg = window.$RefreshReg$;
var prevRefreshSig = window.$RefreshSig$;
helpers.prelude(module);

try {
var parcelHelpers = require("@parcel/transformer-js/src/esmodule-helpers.js");
parcelHelpers.defineInteropFlag(exports);
var _react = require("react");
var _reactDefault = parcelHelpers.interopDefault(_react);
var _authService = require("../../services/auth.service");
var _authServiceDefault = parcelHelpers.interopDefault(_authService);
var _loginCss = require("./login.css");
var _bootstrapMinCss = require("bootstrap/dist/css/bootstrap.min.css");
var _s = $RefreshSig$();
const Login = (props)=>{
    _s();
    const initalState = {
        "username": "",
        "password": ""
    };
    const [user, setUser] = _react.useState(initalState);
    const [loading, setLoading] = _react.useState(false);
    const [message, setMessage] = _react.useState("");
    const handleUserName = (e)=>{
        let newUser = {
            ...user
        };
        newUser.username = e.target.value;
        setUser(newUser);
    };
    const handlePassword = (e)=>{
        let newUser = {
            ...user
        };
        newUser.password = e.target.value;
        setUser(newUser);
    };
    const handleLogin = (e)=>{
        e.preventDefault();
        setMessage("");
        setLoading(true);
        _authServiceDefault.default.login(user.username, user.password).then((response)=>{
            const user1 = JSON.parse(localStorage.getItem('user'));
            console.log(user1);
            props.history.push("/admin-dash");
        // if(user.usertype === "seller"){
        //     props.history.push("/sellerhome");
        //     window.location.reload();
        //
        //
        // }else{
        //     props.history.push("/");
        //     window.location.reload();
        //
        // }
        }, (error)=>{
            const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();
            setLoading(false);
            setMessage(resMessage);
        });
    };
    return(/*#__PURE__*/ _reactDefault.default.createElement("div", {
        className: "login-body",
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 71
        },
        __self: undefined
    }, /*#__PURE__*/ _reactDefault.default.createElement("div", {
        className: "sidenav",
        style: {
            ba
        },
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 74
        },
        __self: undefined
    }, /*#__PURE__*/ _reactDefault.default.createElement("div", {
        className: "login-main-text",
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 75
        },
        __self: undefined
    }, /*#__PURE__*/ _reactDefault.default.createElement("h1", {
        style: {
        },
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 76
        },
        __self: undefined
    }, "ICAF ADMIN", /*#__PURE__*/ _reactDefault.default.createElement("br", {
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 76
        },
        __self: undefined
    }), " Login Page"), /*#__PURE__*/ _reactDefault.default.createElement("p", {
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 77
        },
        __self: undefined
    }, "Login or register from here to access."))), /*#__PURE__*/ _reactDefault.default.createElement("div", {
        className: "main",
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 80
        },
        __self: undefined
    }, /*#__PURE__*/ _reactDefault.default.createElement("div", {
        className: "col-md-6 col-sm-12",
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 81
        },
        __self: undefined
    }, /*#__PURE__*/ _reactDefault.default.createElement("div", {
        className: "login-form",
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 82
        },
        __self: undefined
    }, /*#__PURE__*/ _reactDefault.default.createElement("form", {
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 83
        },
        __self: undefined
    }, /*#__PURE__*/ _reactDefault.default.createElement("div", {
        className: "form-group",
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 84
        },
        __self: undefined
    }, /*#__PURE__*/ _reactDefault.default.createElement("label", {
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 85
        },
        __self: undefined
    }, "User Name"), /*#__PURE__*/ _reactDefault.default.createElement("input", {
        type: "text",
        className: "form-control",
        placeholder: "User Name",
        onChange: handleUserName,
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 86
        },
        __self: undefined
    })), /*#__PURE__*/ _reactDefault.default.createElement("div", {
        className: "form-group",
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 88
        },
        __self: undefined
    }, /*#__PURE__*/ _reactDefault.default.createElement("label", {
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 89
        },
        __self: undefined
    }, "Password"), /*#__PURE__*/ _reactDefault.default.createElement("input", {
        type: "password",
        className: "form-control",
        placeholder: "Password",
        onChange: handlePassword,
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 90
        },
        __self: undefined
    })), " ", /*#__PURE__*/ _reactDefault.default.createElement("br", {
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 91
        },
        __self: undefined
    }), /*#__PURE__*/ _reactDefault.default.createElement("button", {
        type: "submit",
        className: "btn btn-primary",
        onClick: handleLogin,
        __source: {
            fileName: "D:\\AF_Final\\AF_Final\\root\\frontend\\src\\component\\adminlogin\\login.component.jsx",
            lineNumber: 92
        },
        __self: undefined
    }, "Login")))))));
};
_s(Login, "Su+N3f7gyRlWAK07Z1JFA+oJTGc=");
_c = Login;
exports.default = Login;
var _c;
$RefreshReg$(_c, "Login");

  helpers.postlude(module);
} finally {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}